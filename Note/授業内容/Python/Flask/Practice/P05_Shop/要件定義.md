# 要件定義書

## **プロジェクト名**

ECサイト構築

## **目的**

ECサイトの構築を通じて、Webアプリケーション開発のスキルを向上させること。

## **対象ユーザー**

- 一般ユーザー：商品を購入するためにサイトを利用する。
- 管理者：商品情報の管理、ユーザー管理を行う。

## **機能要件**

### **1. ユーザー管理**

- **新規会員登録**
  - ユーザー名、パスワード、個人情報（名字、名前、住所）の入力。
  - 入力情報のバリデーション。
  - 登録後、ログイン画面へリダイレクト。
- **ログイン/ログアウト**
  - ユーザー名とパスワードでログイン。
  - ログイン後、商品一覧画面へリダイレクト。
  - ログアウト機能。
- **アカウント設定変更**
  - ユーザー名、パスワード、個人情報の変更。
- **購入履歴**
  - 過去の購入履歴を表示。

### **2. 商品管理**

- **商品一覧表示**
  - 商品のリストを表示。
  - 各商品には詳細ページへのリンクを設置。
- **商品詳細表示**
  - 商品の詳細情報（名称、画像、価格、説明）を表示。
  - カートに追加するボタンを設置。
- **商品検索**
  - 商品名やカテゴリで検索可能。

### **3. カート管理**

- **カートに商品を追加**
  - 商品詳細ページからカートに追加。
  - 未ログインの場合、ログイン画面へリダイレクト。
- **カート内の商品表示**
  - カート内の商品リストを表示。
  - 各商品の削除ボタンを設置。
  - 合計金額と合計個数を表示。
- **購入確認**
  - カート内の商品を確認し、購入手続きへ進む。
- **購入完了**
  - 購入完了画面を表示。

### **4. 取引管理**

- **取引状況の管理**
  - 各カートの取引状況を管理（保留、購入、キャンセル）。
- **配送先選択**
  - 購入手続き時に配送先を選択可能。
  - 個人情報テーブルに配送先を3つ追加。

## **非機能要件**

### **1. パフォーマンス**

- ページの読み込み速度を最適化する。
- データベースクエリの最適化。

### **2. セキュリティ**

- パスワードのハッシュ化。
- CSRF対策。
- SQLインジェクション対策。

### **3. ユーザビリティ**

- 直感的なUI/UXデザイン。
- レスポンシブデザイン対応。

### **4. メンテナビリティ**

- コードの可読性を高めるためのコメントとドキュメントの整備。
- モジュール化と再利用可能なコンポーネントの設計。

## **データベース設計**

### **テーブル定義**

#### **ユーザー**

- **ID**: 数字で連番
- **ユーザー名**: ログインに使用
- **パスワード**: ハッシュ化して保存
- **作成時間**: レコードの作成時間
- **更新時間**: レコードの最終更新時間
- **削除フラグ**: 論理削除用

#### **個人情報**

- **ID**: 数字で連番
- **名字**
- **名前**
- **住所**: 商品の届け先
- **作成時間**: レコードの作成時間
- **更新時間**: レコードの最終更新時間
- **削除フラグ**: 論理削除用

#### **商品**

- **ID**: 数字で連番
- **商品名**
- **商品画像URL**
- **値段**: 税込み
- **削除フラグ**: 論理削除用

#### **カート**

- **ID**: 数字で連番
- **カートID**: カートを管理
- **商品ID**: 商品テーブルと連動
- **作成時間**: レコードの作成時間
- **更新時間**: レコードの最終更新時間
- **削除フラグ**: 論理削除用

#### **取引状況**

- **ID**: 数字で連番
- **カートID**: カートテーブルのカートIDと連動
- **届け先**: アカウントの住所が入力される
- **状況**: 保留、購入、キャンセル
- **作成時間**: レコードの作成時間
- **更新時間**: レコードの最終更新時間
- **削除フラグ**: 論理削除用

## **画面設計**

### **1. ログイン画面**

- ユーザー名、パスワード入力フォーム
- 新規会員登録ページへのリンク

### **2. 新規会員登録画面**

- ユーザー名、パスワード、個人情報入力フォーム

### **3. 商品一覧画面**

- 商品リスト表示
- カート確認ボタン
- ログインページへのリンク

### **4. 商品詳細画面**

- 商品の詳細情報表示
- カートに追加ボタン
- 戻るボタン

### **5. カート画面**

- カート内の商品リスト表示
- 各商品の削除ボタン
- 合計金額、合計個数表示
- 購入確認ボタン

### **6. 購入確認画面**

- カート内の商品確認
- 購入手続きボタン

### **7. 購入完了画面**

- 購入完了メッセージ表示

### **8. アカウント設定画面**

- ユーザー名、パスワード、個人情報の変更フォーム

## **開発環境**

- **言語**: Python
- **フレームワーク**: Flask
- **データベース**: SQLite
- **フロントエンド**: HTML, CSS,(JSは未定)
- **バージョン管理**: Git